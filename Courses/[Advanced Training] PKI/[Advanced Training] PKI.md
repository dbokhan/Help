## DAY 1

PKI - это не просто ассеметричное шифрование, а именно инфраструктура.

PKCS (Public-Key Cryptography Standards)

PKI обеспечивает:

1. Конфиденциальность (Data Encryption)
2. Целостность (Datal signatures)
	Хэш функция - преобразует любую последовательность бит в "отпечаток" (footprint) определенной длины. Из отпечатка хэш функции нельзя вычислить исходные данные. Признак хорошой хэш функции - при изменении одного бита во входном потоке на выходе должно поменяться не менее 30% бит.
3. Аутентичность (Authenticity) - позволяет гарантировать личность автора создания хэша. Т.е. делает функцию целостности осмысленной. В PKI обеспечивается с помощью:
	Цифровой наториат (Digital Signatures) - автор предоставляет хэш и метку времени, которые подписываются центром сертификации
4. Неотказуемость (Nonrepudiation) - доверие к логам 
5. Отказоустайчивость (Rudundancy)

# Сертификаты
X509 - стандарт описывающий сертификаты. 

Цент Сертификации - использует свой закрытый ключ для подписи сертификата

CRL - массив с серийными номерами сертификатов у центров сертификаций. CRL заменяется на OCSP (Online Certificate Status Protocol), проверка сертификатор по http.

## DAY 2

Инструменты для управления PKI:

1. MMC
2. CMD - certuril.exe; certreq.exe
3. Key Recovery Tool; PKI Health Tool
4. Programmatic - CryptoAPI; CAPICOM

# Генерация ключей

Существует блок алгоритмов для генерации ключей. Ключи не должны входить в ПСК (Пространство Слабых Ключей). ПСК - это исключения в алгоритме, т.е. какие-то значения, при которых выходные данные содержат малое кол-во изменненых бит.

```
DES использует 64 битовые выходные значения, но каждый байт содержит 1 бит для проверки целостности, поэтому иногда говорят что DES использует 56 бит.
```

Алгоритм Диффи-Хеллмана позволяет двум участникам параллельно (одновременно) сгенерировать одинаковые ключи и злоумышлинник никак не может навредить им. Практический пример можно узнать в программе CrypTool.

# Симметричные алгоритмы шифрования

Делятся на:

1. Блочные - предназначены для работы с известным объемом данных изначально. (прим. зашифровать файл = 1 Мбайт)

2. Потоковые - предназначены для работы по сети связи, где биты подаются отрывками и не накапливаются. (прим. алгоритм RS-4, которым шифруется Kerberos в Windows)

Большинство симметричных ключей основанны на операциях замены и перестановки. Эти алгоритмы используют простые операции применяемые несколько раз. Кол-во раз указывают как - Round.

# Ассиметричные алгоритмы шифрования (RSA)
Процесс:
1. Геренируются два ключа.

	В функцию вбрасываются стартовые параметры из которых вычисляется два ключа. Вычислить один ключ из другого - очень очень сложно.

2. Процесс подписывания

	2.1 На данные применяется алгоритм хэширования

	2.2 Хэш шифруется закрытым ключем

	2.3 Тот, кто хочет проверить, тоже хэширует данные по известному алгоритму

	2.4 Тот, кто хочет проверить, с помощью полученного открытого ключа сравнивает свой хэш с тем, что получается расшифровать с помощью полученного открытого ключа

	2.5 Если хэши совпадают, то документ не менялся

Цифровой сертификат - это связка двух больших массивов информации:

1. Данные о субъекте
2. Открытый ключ

Центр сертификации - точка доверия о соответствии Данных о субъекте и Открытого ключа