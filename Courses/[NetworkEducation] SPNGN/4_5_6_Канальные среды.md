# Канальные среды

**Символ** - набор битов. Например в WiFi 1 символ = 11 бит.

## Ethernet

** Изобретен в 1974 оду тостый желтый коаксиал (ТЖК) **

- Синоним ТЖК - "домен коллизий"

**Коммутаторы эмулируют ТЖК с разной степенью успешности**

- Полученные кадры клонируются во все интерфейсы, кроме некоторых

**В одном ТЖК может быть сколько угодно абонентов**

- Кадр может быть получен несколькими абонентами (в ТЖК - всеми)

- В юникастовом кадре нужно обязательно указывать адрес получателя

- Есть мультикаст и бродкаст

### Metro Ethernet

**Набор методологий, расширающих Ethernet до MAN-сегмента**:

- Использование дальнобойных оптических каналов

- Использование механизмов Connectivity-Fault Management (CFM-OAM)

- Разделение на UNI - User Network Interface и NNI - Network Node Interface 

**Управляется Metro Ethernet Forum (MEF)**:

- Ethernet Virtual Privat Line, E-Line, VPWS

- Ethernet Virtual Private LAN, VPLS, E-LAN

- Ethernet Virtual Private Tree, E-Tree (неполносвязная P2MP-сеть)

## Point-to-Point Protocol

**Единственное требование к середе передачи - дуплексный режим**

**Протокол со множеством полезных особенностей:**

- Аутентификация узлок

- Шифрование данных

- Компрессия заголовков или данных

- Multilink: работа по нескольким каналам с балансировкой

- Multiclass: работа нескольких PPP-сессий по одному каналу

- Топология точка-точка

**Встроенные служебные протоколы**:

- LCP - Link Control Protocol

- NCP - Network Control Protocols (IPCP, IPV6CP, CDPCP, MPLSCP, и т.д.)

## PPPoE

## Frame Relay

### Процедура коммутации

**Permanent Virtual Circut (PVC)**:

- Услуга, предоставляющая постоянный маршрут между узлами

- Требует одноразовой настройки правил коммутации DLCI

**Switcher Virtual Circuit (SVC)**:

- Услуга, предоставляющая маршрут "по требованию"

- Требует и настройки, и установления/терминации маршрута по требованию

### Адресация

**DLCI может быть переменной длины, притом не кратной байту**

**Чаще всего используются 10 битные DLCI**

**Значимое в пределах физической среды значение**

- При коммутации может (будет) изменяться по некоторому правилу

- Коммутация задается правилами "что на что меня и куда отправляем"

## ATM (Asynchronous Transfer Mode)

**Коммутируемый протокол для ISDN-сетей**

- Разработан в конце 80-х как основной протокол в SONET/SDH

**Коммутация "ячеек" по заданным маршрутам с хаданным качеством**

- Вложение разбивается на ячейки по 48 байт (+5 байт заголовка)

- Качество - ATM adaptation layer

  - AAL1 - CBR, connection oriented (T1, E1)

  - AAL2 - VBR, connection-oriented (Voice over ATM, wireless)

  - AAL3/4 - VBR, data traffic, доп.заголовок для указания вложения (Frame Relay, X.25)

  - AAL5 - VBR, data traffic, упрощенная схема заголовка (IP over ATM, Ethernet over ATM)

> Все ADSL развертывания до сих пор используют ATM (2019 год), всякие PON, gPON (не путать с GE PON) тоже используют ATM. Новых развертываний ATM нет.

## 802.11 WiFi

**Технология беспроводной LAN**:

- Все узлы разделяют одну частоту, схема предотвращения коллизий CSMA/CA (чаще всего провайдер отключают CSMA/CA и включают что-то другое)

- Кадр может быть получен енсколькими абонентами (не обязательно всеми)

- Ксть мультикаст и бродкаст

**Режимы работы**:

- IBSS (Independent Basic Service Set) - "Ad-Hoc

- BSS (Basic Service Set) - одна точка доступа

- ESS (Extended Service Set) - несколько точек доступа
